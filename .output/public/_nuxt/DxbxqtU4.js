import{d as P,k as p,y as h,z as E,F as ie,G as de,H as a,A as l,E as T,I as ue,J as W,B as y,K as Ne,L as be,M as Ee,C as x,r as I,N as xe,D as w,O as Se,P as Ie,Q as z,o as Le,R as Z,S as ee}from"./BHBqypoW.js";var O=(e=>(e.ASC="asc",e.DESC="desc",e))(O||{}),g=(e=>(e.ID="id",e.FIRST_NAME="firstName",e.LAST_NAME="lastName",e.EMAIL="email",e.LAST_VISITED_AT="lastVisitedAt",e))(g||{}),R=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DANGER="danger",e.SUCCESS="success",e))(R||{});const Ce={SEARCH_DEBOUNCE_DELAY:300},m={LOADING:"Загрузка...",NO_USERS_FOUND:"Пользователи не найдены",CONFIRM_DELETE:"Вы уверены, что хотите удалить пользователя",ERROR_LOADING_USERS:"Не удалось загрузить список пользователей",ERROR_DELETING_USER:"Не удалось удалить пользователя",RETRY:"Повторить",CLEAR_FILTERS:"Очистить",ADD_USER:"Добавить пользователя",EDIT_USER:"Редактировать пользователя",EDIT:"Редактировать",DELETE:"Удалить",SAVE:"Сохранить",CREATE:"Создать",CANCEL:"Отмена",FORM_LABELS:{FIRST_NAME:"Имя",LAST_NAME:"Фамилия",EMAIL:"Email"},FORM_PLACEHOLDERS:{FIRST_NAME:"Введите имя",LAST_NAME:"Введите фамилию",EMAIL:"Введите email"},VALIDATION:{REQUIRED_FIRST_NAME:"Имя обязательно для заполнения",REQUIRED_LAST_NAME:"Фамилия обязательна для заполнения",REQUIRED_EMAIL:"Email обязателен для заполнения",MIN_LENGTH_FIRST_NAME:"Имя должно содержать минимум 2 символа",MIN_LENGTH_LAST_NAME:"Фамилия должна содержать минимум 2 символа",INVALID_EMAIL:"Некорректный формат email"},SEARCH_PLACEHOLDER:{GLOBAL:"Поиск по имени или email...",ID:"Поиск по ID...",FIRST_NAME:"Поиск по имени...",LAST_NAME:"Поиск по фамилии...",EMAIL:"Поиск по email...",LAST_VISITED:"Поиск по дате..."}},J={COLUMNS:[{key:"id",label:"ID",sortable:!0,searchable:!0},{key:"firstName",label:"Имя",sortable:!0,searchable:!0},{key:"lastName",label:"Фамилия",sortable:!0,searchable:!0},{key:"email",label:"Email",sortable:!0,searchable:!0},{key:"lastVisitedAt",label:"Последний визит",sortable:!0,searchable:!0}]},Re=["type","disabled"],Me=P({__name:"UiButton",props:{variant:{default:R.PRIMARY},size:{default:"md"},disabled:{type:Boolean,default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:_}){const t=e,v=_,c=p(()=>{const n="font-medium rounded-lg transition-colors focus:outline-none focus:ring-2",N={[R.PRIMARY]:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",[R.SECONDARY]:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",[R.DANGER]:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",[R.SUCCESS]:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"},A={sm:"px-2 py-1 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},i=t.disabled?"opacity-50 cursor-not-allowed":"";return[n,N[t.variant],A[t.size],i].join(" ")}),s=n=>{t.disabled||v("click",n)};return(n,N)=>(E(),h("button",{type:e.type,disabled:e.disabled,class:de(a(c)),onClick:s},[ie(n.$slots,"default")],10,Re))}}),ce=Object.assign(Me,{__name:"UiButton"}),Te={class:"inline-block ml-1"},Ue={key:0,class:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},we={key:1,class:"w-3 h-3 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},De={key:2,class:"w-3 h-3 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},Oe=P({__name:"UiSortIcon",props:{active:{type:Boolean},order:{}},setup(e){return(_,t)=>(E(),h("span",Te,[e.active?e.order==="asc"?(E(),h("svg",we,[...t[1]||(t[1]=[l("path",{d:"M5 10l5-5 5 5H5z"},null,-1)])])):(E(),h("svg",De,[...t[2]||(t[2]=[l("path",{d:"M15 10l-5 5-5-5h10z"},null,-1)])])):(E(),h("svg",Ue,[...t[0]||(t[0]=[l("path",{d:"M5 10l5-5 5 5H5z"},null,-1),l("path",{d:"M5 10l5 5 5-5H5z",opacity:"0.3"},null,-1)])]))]))}}),Pe=Object.assign(Oe,{__name:"UiSortIcon"}),ke=P({__name:"UiTableHeader",props:{field:{},label:{},sortable:{type:Boolean,default:!0},currentSortBy:{},currentSortOrder:{}},emits:["sort"],setup(e,{emit:_}){const t=e,v=_,c=p(()=>{const A="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",i=t.sortable?"cursor-pointer hover:bg-gray-100":"";return[A,i].join(" ")}),s=p(()=>t.currentSortBy===t.field),n=p(()=>t.currentSortOrder||O.ASC),N=()=>{if(!t.sortable)return;const A=s.value&&t.currentSortOrder===O.ASC?O.DESC:O.ASC;v("sort",t.field,A)};return(A,i)=>{const L=Pe;return E(),h("th",{class:de(a(c)),onClick:N},[T(y(e.label)+" ",1),e.sortable?(E(),ue(L,{key:0,active:a(s),order:a(n)},null,8,["active","order"])):W("",!0)],2)}}}),Ve=Object.assign(ke,{__name:"UiTableHeader"}),Fe=["id","type","placeholder","disabled","readonly"],$e=P({__name:"UiInput",props:{modelValue:{},type:{default:"text"},placeholder:{},disabled:{type:Boolean},readonly:{type:Boolean},size:{default:"md"},variant:{default:"default"},id:{}},emits:["update:modelValue","input","blur","focus"],setup(e,{emit:_}){const t=e,v=_,c=p({get:()=>t.modelValue?.toString()??"",set:i=>v("update:modelValue",i)}),s=p(()=>{const i="border rounded focus:outline-none focus:ring-2 transition-colors",L={default:"border-gray-300 focus:ring-blue-500 focus:border-blue-500",error:"border-red-300 focus:ring-red-500 focus:border-red-500",success:"border-green-300 focus:ring-green-500 focus:border-green-500"},f={sm:"px-2 py-1 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},C=t.disabled?"bg-gray-100 cursor-not-allowed":"bg-white";return[i,L[t.variant],f[t.size],C].join(" ")}),n=i=>{v("input",i)},N=i=>{v("blur",i)},A=i=>{v("focus",i)};return(i,L)=>Ne((E(),h("input",{id:e.id,"onUpdate:modelValue":L[0]||(L[0]=f=>Ee(c)?c.value=f:null),type:e.type,placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,class:de(a(s)),onInput:n,onBlur:N,onFocus:A},null,42,Fe)),[[be,a(c)]])}}),te=Object.assign($e,{__name:"UiInput"}),Be={class:"px-6 py-2"},He=P({__name:"UiColumnFilter",props:{modelValue:{},placeholder:{}},emits:["update:modelValue","filter"],setup(e,{emit:_}){const t=e,v=_,c=p({get:()=>t.modelValue,set:N=>v("update:modelValue",N)});let s=null;const n=()=>{s&&clearTimeout(s),s=setTimeout(()=>{v("filter")},Ce.SEARCH_DEBOUNCE_DELAY)};return(N,A)=>{const i=te;return E(),h("td",Be,[x(i,{modelValue:a(c),"onUpdate:modelValue":A[0]||(A[0]=L=>Ee(c)?c.value=L:null),placeholder:e.placeholder,size:"sm",onInput:n},null,8,["modelValue","placeholder"])])}}}),ze=Object.assign(He,{__name:"UiColumnFilter"}),je={class:"block text-sm font-medium text-gray-700 mb-1"},Ge={class:"block text-sm font-medium text-gray-700 mb-1"},Ye={class:"block text-sm font-medium text-gray-700 mb-1"},Qe={class:"flex justify-end gap-2 pt-4"},qe=P({__name:"UserForm",props:{user:{default:null},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{expose:_,emit:t}){const v=e,c=t,s=I({firstName:"",lastName:"",email:""}),n=I({firstName:"",lastName:"",email:""}),N=p(()=>!!v.user),A=()=>{s.value={firstName:"",lastName:"",email:""},n.value={firstName:"",lastName:"",email:""}};xe(()=>v.user,f=>{A(),f&&(s.value={firstName:f.firstName,lastName:f.lastName,email:f.email})},{immediate:!0});const i=()=>{let f=!0;return n.value={firstName:"",lastName:"",email:""},s.value.firstName.trim()?s.value.firstName.trim().length<2&&(n.value.firstName=m.VALIDATION.MIN_LENGTH_FIRST_NAME,f=!1):(n.value.firstName=m.VALIDATION.REQUIRED_FIRST_NAME,f=!1),s.value.lastName.trim()?s.value.lastName.trim().length<2&&(n.value.lastName=m.VALIDATION.MIN_LENGTH_LAST_NAME,f=!1):(n.value.lastName=m.VALIDATION.REQUIRED_LAST_NAME,f=!1),s.value.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email)||(n.value.email=m.VALIDATION.INVALID_EMAIL,f=!1):(n.value.email=m.VALIDATION.REQUIRED_EMAIL,f=!1),f},L=()=>{if(!i())return;const f={firstName:s.value.firstName.trim(),lastName:s.value.lastName.trim(),email:s.value.email.trim()};N.value&&v.user&&(f.id=v.user.id),c("submit",f)};return _({resetForm:A,validateForm:i}),(f,C)=>(E(),h("form",{onSubmit:Se(L,["prevent"]),class:"space-y-4"},[l("div",null,[l("label",je,y(a(m).FORM_LABELS.FIRST_NAME),1),x(te,{modelValue:s.value.firstName,"onUpdate:modelValue":C[0]||(C[0]=D=>s.value.firstName=D),placeholder:a(m).FORM_PLACEHOLDERS.FIRST_NAME,error:n.value.firstName,required:""},null,8,["modelValue","placeholder","error"])]),l("div",null,[l("label",Ge,y(a(m).FORM_LABELS.LAST_NAME),1),x(te,{modelValue:s.value.lastName,"onUpdate:modelValue":C[1]||(C[1]=D=>s.value.lastName=D),placeholder:a(m).FORM_PLACEHOLDERS.LAST_NAME,error:n.value.lastName,required:""},null,8,["modelValue","placeholder","error"])]),l("div",null,[l("label",Ye,y(a(m).FORM_LABELS.EMAIL),1),x(te,{modelValue:s.value.email,"onUpdate:modelValue":C[2]||(C[2]=D=>s.value.email=D),type:"email",placeholder:a(m).FORM_PLACEHOLDERS.EMAIL,error:n.value.email,required:""},null,8,["modelValue","placeholder","error"])]),l("div",Qe,[x(ce,{type:"button",variant:a(R).SECONDARY,onClick:C[3]||(C[3]=D=>c("cancel"))},{default:w(()=>[T(y(a(m).CANCEL),1)]),_:1},8,["variant"]),x(ce,{type:"submit",variant:a(R).PRIMARY,disabled:e.loading},{default:w(()=>[T(y(e.loading?a(m).LOADING:N.value?a(m).SAVE:a(m).CREATE),1)]),_:1},8,["variant","disabled"])])],32))}}),Je=Object.assign(qe,{__name:"UserForm"}),Ke={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white z-[10000]"},We={class:"flex justify-between items-center mb-4"},Xe={class:"text-lg font-semibold text-gray-900"},Ze={class:"mb-4"},et={key:0,class:"flex justify-end gap-2 pt-4 border-t"},tt=P({__name:"UiModal",props:{show:{type:Boolean},title:{}},emits:["close"],setup(e,{emit:_}){const t=_,v=()=>{t("close")},c=s=>{s.target===s.currentTarget&&v()};return(s,n)=>e.show?(E(),h("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-[9999]",onClick:c},[l("div",Ke,[l("div",We,[l("h3",Xe,y(e.title),1),l("button",{onClick:v,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...n[0]||(n[0]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),l("div",Ze,[ie(s.$slots,"default")]),s.$slots.actions?(E(),h("div",et,[ie(s.$slots,"actions")])):W("",!0)])])):W("",!0)}}),at=Object.assign(tt,{__name:"UiModal"}),st=Ie("users",()=>{const e=I([]),_=I(!1),t=I(null),v=I(!1),c=I(1),s=I(10),n=I(0),N=I(51),A=p(()=>Math.ceil(n.value/s.value)),i=p(()=>c.value<A.value),L=p(()=>c.value>1),f=async()=>{if(!v.value){_.value=!0,t.value=null;try{const r=await fetch("./userList.json");if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();e.value=o,n.value=o.length,v.value=!0,o.length>0&&(N.value=Math.max(...o.map(b=>b.id))+1)}catch(r){t.value=r.message||"Failed to load users",console.error("Error loading users:",r)}finally{_.value=!1}}},C=async(r={})=>{v.value||await f(),_.value=!0,t.value=null;try{let o=[...e.value];if(r.search?.trim()){const V=r.search.toLowerCase();o=o.filter(F=>F.firstName.toLowerCase().includes(V)||F.lastName.toLowerCase().includes(V)||F.email.toLowerCase().includes(V))}r.sortBy&&o.sort((V,F)=>{let $=V[r.sortBy],G=F[r.sortBy];typeof $=="string"&&($=$.toLowerCase(),G=G.toLowerCase());let Y=0;return $<G&&(Y=-1),$>G&&(Y=1),r.sortOrder===O.DESC?-Y:Y});const b=Math.max(1,r.page||1),M=Math.min(100,Math.max(1,r.limit||10));c.value=b,s.value=M,n.value=o.length;const k=(b-1)*M,j=k+M;return{users:o.slice(k,j),pagination:{page:b,limit:M,total:o.length,totalPages:Math.ceil(o.length/M),hasNext:b<Math.ceil(o.length/M),hasPrev:b>1}}}catch(o){throw t.value=o.message||"Failed to get users",o}finally{_.value=!1}},D=r=>e.value.find(o=>o.id===r),ae=async r=>{_.value=!0,t.value=null;try{if(e.value.some(M=>M.email.toLowerCase()===r.email.toLowerCase()))throw new Error("User with this email already exists");const b={id:N.value++,firstName:r.firstName,lastName:r.lastName,email:r.email,lastVisitedAt:r.lastVisitedAt||Date.now()};return e.value.unshift(b),n.value=e.value.length,b}catch(o){throw t.value=o.message||"Failed to create user",o}finally{_.value=!1}},se=async r=>{_.value=!0,t.value=null;try{const o=e.value.findIndex(k=>k.id===r.id);if(o===-1)throw new Error("User not found");if(r.email&&e.value.some(j=>j.email.toLowerCase()===r.email.toLowerCase()&&j.id!==r.id))throw new Error("User with this email already exists");const b=e.value[o],M={id:b.id,firstName:r.firstName??b.firstName,lastName:r.lastName??b.lastName,email:r.email??b.email,lastVisitedAt:Date.now()};return e.value[o]=M,M}catch(o){throw t.value=o.message||"Failed to update user",o}finally{_.value=!1}},le=async r=>{_.value=!0,t.value=null;try{const o=e.value.findIndex(b=>b.id===r);if(o===-1)throw new Error("User not found");e.value.splice(o,1),n.value=e.value.length}catch(o){throw t.value=o.message||"Failed to delete user",o}finally{_.value=!1}},re=()=>{i.value&&c.value++},oe=()=>{L.value&&c.value--},ne=r=>{r>=1&&r<=A.value&&(c.value=r)},K=()=>{t.value=null},X=()=>{c.value=1,s.value=10};return{allUsers:z(e),loading:z(_),error:z(t),initialized:z(v),currentPage:z(c),itemsPerPage:z(s),totalItems:z(n),totalPages:A,hasNextPage:i,hasPrevPage:L,loadUsers:f,getUsers:C,getUserById:D,createUser:ae,updateUser:se,deleteUser:le,nextPage:re,prevPage:oe,goToPage:ne,clearError:K,resetPagination:X}}),lt=()=>{const e=st();return{users:p(()=>e.allUsers),loading:p(()=>e.loading),error:p(()=>e.error),initialized:p(()=>e.initialized),pagination:p(()=>({page:e.currentPage,limit:e.itemsPerPage,total:e.totalItems,totalPages:e.totalPages,hasNext:e.hasNextPage,hasPrev:e.hasPrevPage})),totalPages:p(()=>e.totalPages),hasNextPage:p(()=>e.hasNextPage),hasPrevPage:p(()=>e.hasPrevPage),loadUsers:e.loadUsers,fetchUsers:e.getUsers,getUserById:e.getUserById,createUser:e.createUser,updateUser:e.updateUser,deleteUser:e.deleteUser,nextPage:e.nextPage,prevPage:e.prevPage,goToPage:e.goToPage,clearError:e.clearError,resetPagination:e.resetPagination}},ge=e=>new Date(e).toLocaleString("ru-RU"),rt={class:"p-6 border-b border-gray-200"},ot={class:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center"},nt={class:"flex gap-2"},it={class:"overflow-x-auto"},ut={class:"w-full"},ct={class:"bg-gray-50"},dt={class:"bg-white divide-y divide-gray-200"},mt={class:"bg-gray-50 border-b-2 border-gray-200"},_t={class:"px-6 py-2 text-right"},vt={key:0,class:"animate-pulse"},ft=["colspan"],gt={key:1,class:"bg-red-50"},Et=["colspan"],pt={key:2},ht=["colspan"],At={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},yt={class:"flex justify-end gap-2"},Nt={class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},bt={class:"flex flex-col sm:flex-row justify-between items-center gap-4"},xt={class:"text-sm text-gray-700"},St={key:0,class:"text-gray-500"},It={class:"flex items-center gap-2"},Lt={class:"px-3 py-1 text-sm text-gray-700"},Ct=P({__name:"UserTable",setup(e){const _=I(!1),t=I(!1),v=I(null),c=I(!1),s=I(null),n=I(O.ASC),N=I({[g.ID]:"",[g.FIRST_NAME]:"",[g.LAST_NAME]:"",[g.EMAIL]:"",[g.LAST_VISITED_AT]:""}),{users:A,pagination:i,loading:L,error:f,loadUsers:C,clearError:D,deleteUser:ae,createUser:se,updateUser:le,nextPage:re,prevPage:oe}=lt(),ne=(u,d)=>d?u.toString().toLowerCase().includes(d.toLowerCase()):!0,K=(u,d)=>{switch(d){case g.ID:return u.id;case g.FIRST_NAME:return u.firstName;case g.LAST_NAME:return u.lastName;case g.EMAIL:return u.email;case g.LAST_VISITED_AT:return ge(u.lastVisitedAt);default:return""}},X=p(()=>{let u=A.value.filter(d=>Object.entries(N.value).every(([U,B])=>{if(!B)return!0;const Q=K(d,U);return ne(Q,B)}));return s.value&&u.sort((d,U)=>{const B=K(d,s.value),Q=K(U,s.value);let H=0;return B<Q&&(H=-1),B>Q&&(H=1),n.value===O.DESC?-H:H}),u}),r=p(()=>{const u=(i.value.page-1)*i.value.limit,d=u+i.value.limit;return X.value.slice(u,d)}),o=p(()=>X.value.length),b=p(()=>Math.ceil(o.value/i.value.limit)),M=p(()=>i.value.page>1),k=p(()=>i.value.page<b.value);Le(async()=>{await C()});const j=()=>{i.value.page=1},me=()=>{N.value={[g.ID]:"",[g.FIRST_NAME]:"",[g.LAST_NAME]:"",[g.EMAIL]:"",[g.LAST_VISITED_AT]:""},i.value.page=1},V=(u,d)=>{s.value=u,n.value=d,i.value.page=1},F=()=>{re()},$=()=>{oe()},G=u=>{v.value=u,t.value=!0},Y=async u=>{if(confirm(`${m.CONFIRM_DELETE} ${u.firstName} ${u.lastName}?`))try{await ae(u.id)}catch{}},pe=(u,d)=>{switch(d){case g.ID:return u.id;case g.FIRST_NAME:return u.firstName;case g.LAST_NAME:return u.lastName;case g.EMAIL:return u.email;case g.LAST_VISITED_AT:return ge(u.lastVisitedAt);default:return""}},he=async u=>{c.value=!0;try{await se(u),_.value=!1}catch(d){console.error("Ошибка при создании пользователя:",d)}finally{c.value=!1}},Ae=async u=>{if(u.id){c.value=!0;try{await le(u),t.value=!1,v.value=null}catch(d){console.error("Ошибка при обновлении пользователя:",d)}finally{c.value=!1}}},_e=()=>{_.value=!1},ve=()=>{t.value=!1,v.value=null},ye=u=>{switch(u){case g.ID:return m.SEARCH_PLACEHOLDER.ID;case g.FIRST_NAME:return m.SEARCH_PLACEHOLDER.FIRST_NAME;case g.LAST_NAME:return m.SEARCH_PLACEHOLDER.LAST_NAME;case g.EMAIL:return m.SEARCH_PLACEHOLDER.EMAIL;case g.LAST_VISITED_AT:return m.SEARCH_PLACEHOLDER.LAST_VISITED;default:return""}};return(u,d)=>{const U=ce,B=Ve,Q=ze,H=Je,fe=at;return E(),h("div",null,[l("div",rt,[l("div",ot,[d[2]||(d[2]=l("h2",{class:"text-xl font-semibold text-gray-900"}," Управление пользователями ",-1)),l("div",nt,[x(U,{variant:a(R).PRIMARY,onClick:d[0]||(d[0]=S=>_.value=!0)},{default:w(()=>[T(y(a(m).ADD_USER),1)]),_:1},8,["variant"])])])]),l("div",it,[l("table",ut,[l("thead",ct,[l("tr",null,[(E(!0),h(Z,null,ee(a(J).COLUMNS,S=>(E(),ue(B,{key:S.key,field:S.key,label:S.label,sortable:S.sortable,"current-sort-by":s.value,"current-sort-order":n.value,onSort:V},null,8,["field","label","sortable","current-sort-by","current-sort-order"]))),128)),d[3]||(d[3]=l("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Действия ",-1))])]),l("tbody",dt,[l("tr",mt,[(E(!0),h(Z,null,ee(a(J).COLUMNS,S=>(E(),ue(Q,{key:`filter-${S.key}`,modelValue:N.value[S.key],"onUpdate:modelValue":q=>N.value[S.key]=q,placeholder:ye(S.key),onFilter:j},null,8,["modelValue","onUpdate:modelValue","placeholder"]))),128)),l("td",_t,[x(U,{variant:a(R).SECONDARY,size:"sm",onClick:me},{default:w(()=>[T(y(a(m).CLEAR_FILTERS),1)]),_:1},8,["variant"])])]),a(L)?(E(),h("tr",vt,[l("td",{colspan:a(J).COLUMNS.length+1,class:"px-6 py-12 text-center text-gray-500"},y(a(m).LOADING),9,ft)])):a(f)?(E(),h("tr",gt,[l("td",{colspan:a(J).COLUMNS.length+1,class:"px-6 py-4 text-center text-red-600"},[T(y(a(f))+" ",1),x(U,{variant:a(R).SECONDARY,size:"sm",onClick:d[1]||(d[1]=S=>{a(D)(),a(C)()}),class:"ml-2"},{default:w(()=>[T(y(a(m).RETRY),1)]),_:1},8,["variant"])],8,Et)])):r.value.length?W("",!0):(E(),h("tr",pt,[l("td",{colspan:a(J).COLUMNS.length+1,class:"px-6 py-12 text-center text-gray-500"},y(a(m).NO_USERS_FOUND),9,ht)])),(E(!0),h(Z,null,ee(r.value,S=>(E(),h("tr",{key:S.id,class:"hover:bg-gray-50 transition-colors"},[(E(!0),h(Z,null,ee(a(J).COLUMNS,q=>(E(),h("td",{key:`${S.id}-${q.key}`,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},y(pe(S,q.key)),1))),128)),l("td",At,[l("div",yt,[x(U,{variant:a(R).SECONDARY,size:"sm",onClick:q=>G(S)},{default:w(()=>[T(y(a(m).EDIT),1)]),_:1},8,["variant","onClick"]),x(U,{variant:a(R).DANGER,size:"sm",onClick:q=>Y(S)},{default:w(()=>[T(y(a(m).DELETE),1)]),_:1},8,["variant","onClick"])])])]))),128))])])]),l("div",Nt,[l("div",bt,[l("div",xt,[T(" Показано "+y(r.value.length)+" из "+y(o.value)+" пользователей на странице "+y(a(i).page)+" ",1),o.value!==a(A).length?(E(),h("span",St," (отфильтровано из "+y(a(A).length)+") ",1)):W("",!0)]),l("div",It,[x(U,{variant:a(R).SECONDARY,size:"sm",disabled:!M.value,onClick:$},{default:w(()=>[...d[4]||(d[4]=[T(" Предыдущая ",-1)])]),_:1},8,["variant","disabled"]),l("span",Lt," Страница "+y(a(i).page)+" из "+y(b.value),1),x(U,{variant:a(R).SECONDARY,size:"sm",disabled:!k.value,onClick:F},{default:w(()=>[...d[5]||(d[5]=[T(" Следующая ",-1)])]),_:1},8,["variant","disabled"])])])]),x(fe,{show:_.value,title:a(m).ADD_USER,onClose:_e},{default:w(()=>[x(H,{loading:c.value,onSubmit:he,onCancel:_e},null,8,["loading"])]),_:1},8,["show","title"]),x(fe,{show:t.value,title:a(m).EDIT_USER,onClose:ve},{default:w(()=>[x(H,{user:v.value,loading:c.value,onSubmit:Ae,onCancel:ve},null,8,["user","loading"])]),_:1},8,["show","title"])])}}}),Rt=Object.assign(Ct,{__name:"UserTable"}),Mt={class:"min-h-screen bg-gray-50"},Tt={class:"container mx-auto py-8 px-4"},Ut={class:"bg-white rounded-lg shadow"},Dt={__name:"index",setup(e){return(_,t)=>(E(),h("div",Mt,[l("div",Tt,[t[0]||(t[0]=l("header",{class:"mb-8"},[l("h1",{class:"text-3xl font-bold text-gray-900 mb-2"}," Управление пользователями ")],-1)),l("div",Ut,[x(Rt)])])]))}};export{Dt as default};
